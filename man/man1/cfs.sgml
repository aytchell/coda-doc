<manpage TITLE="cfs" SECTNUM=1>

<mansect>NAME 
<P>
cfs - Coda File System Interface Program

<mansect>SYNOPSIS
<P>
<bf>cfs bandwidth</bf> &lt;speed&gt;<P>
<bf>cfs checkpointml</bf><P>
<bf>cfs checkservers</bf><P>
<bf>cfs checkvolumes</bf><P>
<bf>cfs clearpriorities</bf><P>
<bf>cfs compress</bf> &lt;file&gt; &lsqb;&lt;file&gt; &lt;file&gt; ...&rsqb;<P>
<bf>cfs disconnect</bf><P>
<bf>cfs endrepair</bf> &lt;file&gt;<P>
<bf>cfs examineclosure</bf><P>
<bf>cfs flushcache</bf><P>
<bf>cfs flushobject</bf> &lt;obj&gt;  &lsqb;&lt;obj&gt; &lt;obj&gt; ...&rsqb;<P>
<bf>cfs flushvolume</bf> &lt;dir&gt; &lsqb;&lt;dir&gt; &lt;dir&gt; ...&rsqb;<P>
<bf>cfs getfid</bf> &lt;path&gt; &lsqb;&lt;path&gt; &lt;path&gt; ...&rsqb;<P>
<bf>cfs getpath</bf> &lt;fid&gt; &lsqb;&lt;fid&gt; &lt;fid&gt; ...&rsqb;<P>
<bf>cfs getmountpoint</bf> &lt;volid&gt;<P>
<bf>cfs listacl</bf> &lt;dir&gt; &lsqb;&lt;dir&gt; &lt;dir&gt; ...&rsqb;<P>
<bf>cfs listcache</bf> &lsqb;&lt;dir&gt; &lt;dir&gt; ...&rsqb;<P>
<bf>cfs listvol</bf> &lt;dir&gt; &lsqb;&lt;dir&gt; &lt;dir&gt; ...&rsqb;<P>
<bf>cfs lsmount</bf> &lt;dir&gt; &lsqb;&lt;dir&gt; &lt;dir&gt; ...&rsqb;<P>
<bf>cfs mkmount</bf> &lt;directory&gt; &lt;volume name&gt; &lsqb;-rw&rsqb;<P>
<bf>cfs purgeml</bf><P>
<bf>cfs reconnect</bf><P>
<bf>cfs replayclosure</bf><P>
<bf>cfs rmmount</bf> &lt;dir&gt; &lsqb;&lt;dir&gt; &lt;dir&gt; ...&rsqb;<P>
<bf>cfs setacl</bf> &lsqb;-clear&rsqb; &lsqb;-negative&rsqb; &lt;dir&gt; &lt;id&gt; &lt;rights&gt; &lsqb;&lt;id&gt; &lt;rights&gt; ....&rsqb;  <P>
<bf>cfs slow</bf> &lt;speed (bps)&gt;<P>
<bf>cfs truncatelog</bf><P>
<bf>cfs uncompress</bf> &lt;file&gt; &lsqb;&lt;file&gt; &lt;file&gt; ...&rsqb;<P>
<bf>cfs waitforever</bf> &lsqb;-on&rsqb; &lsqb;-off&rsqb;<P>
<bf>cfs whereis</bf> &lt;dir&gt; &lsqb;&lt;dir&gt; &lt;dir&gt; ...&rsqb;<P>
<bf>cfs writedisconnect</bf> &lsqb;-age &lt;secs&gt; -time &lt;secs&gt; &lt;dir&gt; &rsqb;<P>
<bf>cfs writereconnect</bf> &lsqb;&lt;dir&gt; &lt;dir&gt; ...&rsqb;<P>


<mansect>DESCRIPTION<P>
<bf>cfs</bf> allows users to perform operations specific to the Coda File
System.  Most often, people use it to see how much of their allocated
storage space they are currently using and to change the protection on
their personal directories.  <bf>cfs</bf> will change the protection or
"rights" on directories but not on individual files.  To change
permissions on individual files, use <em>chmod (1)</em>.

<descrip>
<tag><bf>bandwidth</bf></tag>Provide a hint about network
speed.  Use this command to tell venus your networks speed in bits
per second.<P>
Abbreviation: <bf>bw</bf>.
<P></descrip>

<descrip>
<tag><bf>checkpointml</bf></tag> Checkpoint volume modify log.  This command
will create a checkpoint file
<tt>/usr/coda/spool/&lt;uid&gt;/&lt;vol&gt;@&lt;mountpt&gt;</tt>.  Where
<tt>&lt;uid&gt;</tt> is your <bf>cfs</bf> user id, <tt>&lt;vol&gt;</tt> is
the volume being checkpointed, and <tt>&lt;mountpt&gt;</tt> is the volume's
mount point.<P> Abbreviation: <bf>ck</bf>.  
<P></descrip>

<descrip>
<tag><bf>checkservers</bf></tag>Check the status of the Coda
file servers.  Report on servers that are down.
<P></descrip>

<descrip>
<tag><bf>checkvolumes</bf></tag>Check volume/name mappings.
<P></descrip>

<descrip>
<tag><bf>clearpriorities</bf></tag>Clear short-term priorities
used for cache management.
<P></descrip>

<descrip>
<tag><bf>compress</bf></tag>Compress given files in the cache.
These files will be uncompressed automatically if they are touched or
can be explicitely uncompressed with the <em>cfs uncompress</em> command.
<P></descrip>

<descrip>
<tag><bf>disconnect</bf></tag>Partition your client from the
Coda file servers.
<P></descrip>

<descrip>
<tag><bf>endrepair</bf></tag>Tell venus to end a repair session
on file.  Useful if repair is exits without finishing the repair
session.<P>
Abbreviation: <bf>er</bf>.
<P></descrip>

<descrip>
<tag><bf>examineclosure</bf></tag>Examine reintegration closure.  Using
<bf>cfs examineclosure</bf> will display the fixfile used to reintegrate changes that
were made while operating in disconnected mode.<P>
Abbreviation: <bf>ec</bf>
<P></descrip>

<descrip>
<tag><bf>flushcache</bf></tag>Flush entire cache.  Care must be taken when
using the <bf>cfs flushcache</bf> command, as flushing the cache while operating in
disconnected mode may result in loss of data.
<P></descrip>

<descrip>
<tag><bf>flushobject</bf></tag>Flush objects from cache.  <bf>cfs
flushobject</bf> tells venus to remove the given objects from the cache.<P>
Abbreviation: <bf>fl</bf>
<P></descrip>

<descrip>
<tag><bf>flushvolume</bf></tag>Flush all data in specified volumes.  Care must be
taken when using the <bf>cfs flushvolume</bf> command, as flushing the cache while
operating in disconnected mode may result in loss of data.
<P></descrip>

<descrip>
<tag><bf>getfid</bf></tag>Map the given paths to Coda file ids. <P>
Abbreviation: <bf>gf</bf>
<P></descrip> 

<descrip>
<tag><bf>getpath</bf></tag>Map fid to volume-relative path.  <bf>cfs
getpath</bf> will display the path for each of the given fids. <P>
Abbreviation: <bf>gp</bf>
<P></descrip>

<descrip>
<tag><bf>listacl</bf></tag>List access control list for each of the given
directories.  <P>
Abbreviation: <bf>la</bf>
<P></descrip>

<descrip>
<tag><bf>listcache</bf></tag>List the contents of the entire
cache or the given volumes (directories).<P>
Abbreviation: <bf>lc</bf>
<P></descrip>

<descrip>
<tag><bf>listvol</bf></tag>Display the current status of the volume in
which the directory is stored.  <P>
Abbreviation: <bf>lv</bf>
<P></descrip>

<descrip>
<tag><bf>lsmount</bf></tag>List the countents of a mount point.  This
command can be used to tell what volume a mount point refers to.
<P></descrip>
  
<descrip>
<tag><bf>mkmount</bf></tag>Create a mount point.  Mount <em>volume name</em> at
the point in the file system described by <em>filename</em>.  If the <em>-rw</em> flag is
set, never use the corresponding read-only volume for a volume.  Otherwise, if a
read-only volume exists (and the parent is also a read-only volume), use the
read-only volume.  <P>
Abbreviation: <bf>mkm</bf>
<P></descrip>

<descrip>
<tag><bf>purgeml</bf></tag>Purge volume modify log.  Care must be taken
when using the <bf>cfs purgeml</bf> command, as it may result in loss of data.
<P></descrip>

<descrip>
<tag><bf>reconnect</bf></tag>Reconnect to the Coda file
servers.  <bf>cfs reconnect</bf> will undo the effects of a <em>cfs
disconnect</em>.
<P></descrip>

<descrip>
<tag><bf>replayclosure</bf></tag>Replay reintegration closure.<P>
Abbreviation: <bf>rc</bf>
<P></descrip>

<descrip>
<tag><bf>rmmount</bf></tag>Remove a mount point from the file system.
The volume itself is not changed.  <P>
Abbreviation: <bf>rmm</bf>
<P></descrip>

<descrip>
<tag><bf>setacl</bf></tag>Set access control list.  Sets the access
control list for each <em>id</em>.  The <em>-clear</em> switch clears the access control
list except for the entries given on the call to <bf>cfs</bf>.  The <em>-negative</em>
switch denies the given permissions, rather than granting them.  <em>Rights</em> are
a subset of <em>rwidlak</em> which are read, write, insert, delete, lookup,
administer, and lock respectively.  See the section on <em>File Protection</em> in
the Coda manual for more detail.  <P>
Abbreviation: <bf>sa</bf>
<P></descrip>

<descrip>
<tag><bf>slow</bf></tag>Set network speed to the given speed in bits per
second.
<P></descrip>

<descrip>
<tag><bf>truncatelog</bf></tag>Truncate the RVM log at this instant.<P>
Abbreviation: <bf>tl</bf>
<P></descrip>

<descrip>
<tag><bf>uncompress</bf></tag>Uncompress given cached files.
<em>venus</em> will automatically uncompress any compressed files that it touches in the cache.
<P></descrip>

<descrip>
<tag><bf>waitforever</bf></tag>Tells venus whether it should wait
forever for dead file servers or not.  By default, venus does not wait; it
returns ETIMEDOUT.  For certain batch jobs, waiting is better than not waiting.<P>
Abbreviation: <bf>wf</bf>
<P></descrip>

<descrip>
<tag><bf>whereis</bf></tag>List the servers that the given files reside
on.
<P></descrip> 


<descrip>
<tag><bf>writedisconnect</bf></tag>Tell venus to write disconnect on
the given volumes, or all volumes if none are provided.  Write
disconnected operation will fetch files from the server, but does not
propagate changes back immediately.<P> An <bf>-age</bf> argument gives
the age of the CML before it should be reintegrated.  The
<bf>-time</bf> arguments gives the number of seconds the sending of a
reintegration fragment should take.  Abbreviation: <bf>wd</bf>
<P></descrip>

<descrip>
<tag><bf>writereconnect</bf></tag>Strongly connect to the
servers.<P>
Abbreviation: <bf>wr</bf>
<P></descrip>

<mansect>SEE ALSO<P>
chmod (1)



<mansect>AUTHOR<P>
1987, Adapted from AFS-2s fs

Maria R. Ebling, 1990, Created man page

M. Satyanarayanan, 1992, cfs rewritten from scratch

Joshua Raiff, 1993, Man page rewritten

Joshua Raiff, 1995, Updated



</manpage>
